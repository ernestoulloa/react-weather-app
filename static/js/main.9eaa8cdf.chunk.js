(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=(a(99),a(16)),i=a(45),l=a(46),u=a(168),s=a(69),m=a(70),d=Object(m.a)({hashType:"slash"}),f=a(13),p=a(169),h=a(167),E=a(171),v=a(131),g=a(17),b=a.n(g),y=a(26),w=a(71),j="https://api.openweathermap.org/data/2.5/forecast";var O=function(){function e(){return(e=Object(y.a)(b.a.mark((function e(){var t,a,n,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"Munich,de",a=r.length>1&&void 0!==r[1]?r[1]:"40",n=r.length>2&&void 0!==r[2]?r[2]:"imperial",e.abrupt("return",fetch("".concat(j,"?q=").concat(t,"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=").concat(a,"&units=").concat(n)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{getAll:function(){return e.apply(this,arguments)}}};var S=function(e){var t=e;function a(){return(a=Object(y.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(y.a)(b.a.mark((function e(a,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.post(a,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{get:function(e){return a.apply(this,arguments)},post:function(e,t){return n.apply(this,arguments)}}},x=a.n(w).a.create({headers:{"Content-Type":"application/json"}});x.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}));var _={axios:x,weathers:O(S(x))},L=a(20),T="WEATHERS",C={};["GET_ALL"].forEach((function(e){C["".concat(T,"_").concat(e,"_REQUEST")]="".concat(T,"_").concat(e,"_REQUEST"),C["".concat(T,"_").concat(e,"_SUCCESS")]="".concat(T,"_").concat(e,"_SUCCESS"),C["".concat(T,"_").concat(e,"_FAILURE")]="".concat(T,"_").concat(e,"_FAILURE")}));var A=Object(L.a)({},C),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Munich,de",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"40",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperial";return function(){var n=Object(y.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:A.WEATHERS_GET_ALL_REQUEST}),n.prev=1,n.next=4,_.weathers.getAll(e,t,a).then((function(e){return e.json()}));case 4:c=n.sent,r({type:A.WEATHERS_GET_ALL_SUCCESS,payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r({type:A.WEATHERS_GET_ALL_FAILURE});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},R=a(158),M=a(36),F=function(){return r.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.a.createElement(M.a,{color:"textPrimary",variant:"h4"},"Loading..."),r.a.createElement(R.a,null))},W=a(172),D=a(159),U=a(170),H="Celsius",N="Fahrenheit",Y=function(e){var t=e.scale;return r.a.createElement(W.a,{"aria-label":"temperature",name:"temperature",value:t,onChange:function(t){e.onRadioChange(t.target.value)},row:!0},r.a.createElement(D.a,{value:H,control:r.a.createElement(U.a,{color:"primary"}),label:"Celsius"}),r.a.createElement(D.a,{value:N,control:r.a.createElement(U.a,{color:"primary"}),label:"Fahrenheit"}))},I=a(50),P=a.n(I),G=a(75),z=a.n(G),Q=a(76),q=a.n(Q),B=function(e){var t=e.series,a=e.day,n=e.scale,c={chart:{type:"column",className:"chart-container",zoomType:"x"},title:{text:"Temperatures in Munich during the day: ".concat(a)},xAxis:{type:"category",title:{enabled:!0,text:"Time (UTC)",style:{fontWeight:"normal"}},labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{min:0,title:{text:"Temperatures \xb0(".concat(n,")")}},legend:{enabled:!1},tooltip:{pointFormat:"Temperature: <b>{point.y:.1f}\xb0 ".concat(n,"</b>")},series:[{name:"Temperatures",color:"rgb(56,72,168)",data:t,dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",format:"{point.y:.1f}",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{enabled:!1}}}]}};return r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement("div",{className:"chart-inner"},r.a.createElement(q.a,null,r.a.createElement(z.a,{highcharts:P.a,options:c}))))},J=a(28),V=a.n(J),$=function(e){return V.a.unix(e).utc().format("HH:mm")},K=a(52),X=function(e,t){return e.reduce((function(e,a){var n="function"===typeof t?t(a):a[t];return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(a),e}),{})},Z=function(e){if(!e)return[];var t=[];e.map((function(e){return e.dt_txt=V()(e.dt_txt).format("YYYY-MM-DD"),e}));var a=X(e,"dt_txt");return Object.entries(a).forEach((function(e){for(var a=Object(f.a)(e,2),n=a[0],r=a[1],c=0,o=0,i=0,l=0;l<r.length;l+=1)c+=r[l].main.temp,o+=r[l].main.humidity,i+=r[l].wind.speed;c/=r.length,o/=r.length,i/=r.length,t.push({avgTemp:Math.round(c),avgHumidity:Math.round(o),avgWind:Math.round(i),date:n,items:r})})),t},ee=function(e){return e?X(e,"dt_txt"):[]},te=function(e){return e.find((function(e){return e.rain}))},ae=function(e){return e.weather},ne=Object(K.a)([ae],(function(e){return{isLoading:e.isLoading,temperatures:Z(e.list)}})),re=Object(K.a)([ae],(function(e){return{temps:ee(e.list)}})),ce=function(e){var t=Object.assign({},e),a=t.day,n={series:Object(o.e)(re).temps[a].map((function(e){return[$(e.dt),e.main.temp]}))};return r.a.createElement(B,Object.assign({},n,t))},oe=(a(124),a(161)),ie=a(162),le=a(163),ue=a(164),se=a(165),me=a(166),de=a(77),fe=a.n(de),pe=a(173),he=a(47),Ee=function(e){var t,a=e.temperature,n=e.tempScale;return r.a.createElement(M.a,{testid:"tempvalue",variant:"h1",color:"textPrimary"},(t=a,Math.round(t)),"\xb0",n===H?"C":"F")},ve=Ee;Ee.defaultProps={tempScale:"C"};var ge=function(e){var t=e.humidity,a=e.wind,n=e.rain,c=e.snow,o=function(e){return Math.round(e)};return r.a.createElement("div",null,r.a.createElement(M.a,{variant:"subtitle1",color:"textSecondary"},"Humidity:\xa0",o(t)),r.a.createElement(M.a,{variant:"subtitle1",color:"textSecondary"},"Wind:\xa0",o(a),"km/h"),n||c?r.a.createElement(M.a,{testid:n?"rain-data":"snow-data",variant:"subtitle1",color:"textSecondary"},n?"Precipitation":"Snow",":\xa0",n["3h"]||c["3h"],"mm"):"")};ge.defaultProps={rain:void 0,snow:void 0};var be=ge,ye=(a(125),Object(oe.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%",cursor:"pointer"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},body:{display:"flex",flex:"1 0 auto",flexDirection:"column"},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:he.a[500]},actions:{display:"flex",alignItems:"center",justifyContent:"center"}}}))),we=function(e){var t,a,n=ye(),c=e.weatherInfo,o=e.tempScale,i=e.active,l=e.day,u=r.a.useState(!1),s=Object(f.a)(u,2),m=s[0],d=s[1],p=V()(c.date).format("DD MMM YYYY"),h=V()(c.date).format("YYYY-MM-DD"),E=function(){return d(!m)};return r.a.createElement(ie.a,{className:n.root,raised:m||i&&l===h,onMouseOver:function(){return E()},onFocus:function(){return E()},onMouseOut:function(){return E()},onBlur:function(){return E()}},r.a.createElement(le.a,{avatar:r.a.createElement(pe.a,{"aria-label":"recipe",className:n.avatar,src:(a=c.items.length>0?c.items[0].weather[0].icon:void 0,"http://openweathermap.org/img/wn/"+a+"@2x.png")}),title:c.items.length>0?c.items[0].weather[0].description:"",subheader:p}),r.a.createElement(ue.a,{className:n.body},r.a.createElement(ve,{temperature:c.avgTemp,tempScale:o}),r.a.createElement(be,{humidity:c.avgHumidity,wind:(t=c.avgWind,Math.round(3.6*t)),rain:c.items.length>0&&te(c.items)?te(c.items).rain:void 0,snow:c.items.length>0?c.items[0].snow:void 0})),i&&l===h&&r.a.createElement(se.a,{className:n.actions},r.a.createElement(me.a,{disableElevation:!0,size:"medium",disableFocusRipple:!0,color:"secondary"},r.a.createElement(fe.a,{color:"primary",fontSize:"large"}))))};we.defaultProps={tempScale:H};var je=we,Oe=function(e){var t=e.scale,a=e.content,n=e.onGraphDetail,c=r.a.useState(!1),o=Object(f.a)(c,2),i=o[0],l=o[1],u=r.a.useState(""),s=Object(f.a)(u,2),m=s[0],d=s[1],p=a.map((function(e){return r.a.createElement(h.a,{key:e.date.toString(),item:!0,onClick:function(){return t=e.date,a=!0,n(t),d(t),l(!1),void l(a);var t,a}},r.a.createElement(je,{tempScale:t,weatherInfo:e,active:i,day:m}))}));return r.a.createElement(h.a,{container:!0,spacing:3},p)},Se=a(78),xe=a.n(Se),_e=a(79),Le=a.n(_e),Te=a(160),Ce=function(e){var t=e.showLeft,a=e.showRight;return r.a.createElement(p.a,{className:"w-100",display:"flex",direction:"row",alignItems:"center",justifyContent:"space-between"},t?r.a.createElement(Te.a,{testid:"left-arrow","aria-label":"left",color:"primary",size:"medium",onClick:function(){e.onArrowClick("left")}},r.a.createElement(xe.a,null)):r.a.createElement("div",null),a?r.a.createElement(Te.a,{testid:"right-arrow","aria-label":"right",color:"primary",size:"medium",onClick:function(){e.onArrowClick("right")}},r.a.createElement(Le.a,null)):r.a.createElement("div",null))},Ae=Ce;Ce.defaultProps={onArrowClick:function(){},showLeft:!1,showRight:!0};var ke=function(e){var t=Object(o.d)(),a=e.temperatures,c=e.isLoading,i=Object(n.useState)(!1),l=Object(f.a)(i,2),u=l[0],s=l[1],m=Object(n.useState)(""),d=Object(f.a)(m,2),g=d[0],b=d[1],y=Object(n.useState)(N),w=Object(f.a)(y,2),j=w[0],O=w[1],S=Object(n.useState)(0),x=Object(f.a)(S,2),_=x[0],L=x[1],T=Object(n.useState)(!0),C=Object(f.a)(T,2),A=C[0],R=C[1],M=Object(n.useState)(!1),W=Object(f.a)(M,2),D=W[0],U=W[1],I=Object(n.useState)(!0),P=Object(f.a)(I,2),G=P[0],z=P[1],Q=Object(n.useState)("down"),q=Object(f.a)(Q,2),B=q[0],J=q[1],V=a.length,$=a.slice(3*_,3*_+3>V?void 0:3*_+3),K=function(e){var t=_+("left"===e?-1:1),a="left"===e?"right":"left";J(e),R(!1),setTimeout((function(){U(t>0),z(t+1<=(V%3>0?V/3+1:V/3)-1),L(t),J(a),R(!0)}),500)};Object(n.useEffect)((function(){setTimeout((function(){t(k())}),1e3)}),[t]),Object(n.useEffect)((function(){var e=function(e){39===e.keyCode&&K("right"),37===e.keyCode&&K("left")};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));return r.a.createElement(p.a,null,c?r.a.createElement(F,null):r.a.createElement(v.a,null,r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("div",{className:"temperature-container"},r.a.createElement(Y,{scale:j,onRadioChange:function(e){O(e);var a=e===H?"metric":"imperial";s(!1),t(k("Munich,de","40",a))}})),r.a.createElement(Ae,{showLeft:D,showRight:G,onArrowClick:K}),a.length>0?r.a.createElement(E.a,{in:A,direction:B},r.a.createElement("div",{id:"results-slider",className:"slider-container"},r.a.createElement(Oe,{scale:j,content:$,onGraphDetail:function(e){s(!0),b(e)}}))):null,u&&r.a.createElement(ce,{day:g,scale:j}))))},Re=function(e){var t=Object.assign({},e),a=Object(o.e)(ne);return r.a.createElement(ke,Object.assign({},a,t))},Me=(a(127),function(){return r.a.createElement("div",null,r.a.createElement(u.a,null),r.a.createElement(i.a,{basename:"/weather-react",history:d},r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"content container"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Re}))))),r.a.createElement(s.a,{type:"cobweb",bg:!0}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=a(22),We=a(80),De=a(81),Ue=function(e){return function(t,a,n){return e((function(e,a){var n,r=performance.now(),c=t(e,a),o=performance.now(),i=(n=o-r,Math.round(100*n)/100);return console.log("reducer process time:",i),c}),a,n)}},He=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},Ne={isLoading:!0,errors:null,cod:"",message:0,cnt:0,list:"",city:""};var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A.WEATHERS_GET_ALL_REQUEST:return Object(L.a)(Object(L.a)({},e),{},{errors:!1,isLoading:!0});case A.WEATHERS_GET_ALL_SUCCESS:return Object(L.a)(Object(L.a)({},e),{},{isLoading:!1,errors:!1,cod:t.payload.cod,message:t.payload.message,cnt:t.payload.cnt,list:t.payload.list,city:t.payload.city});case A.WEATHERS_GET_ALL_FAILURE:return Object(L.a)(Object(L.a)({},e),{},{errors:!0,isLoading:!1});default:return e}},Ie=function(e){var t,a=[We.a,He],n=[Fe.applyMiddleware.apply(void 0,a),Ue],r=De.composeWithDevTools.apply(void 0,n);return Object(Fe.createStore)((t=d,Object(Fe.combineReducers)({weather:Ye,router:Object(i.b)(t)})),e,r)}({}),Pe=document.querySelector("#root");Object(c.render)(r.a.createElement(o.a,{store:Ie},r.a.createElement(Me,null)),Pe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(129)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.9eaa8cdf.chunk.js.map